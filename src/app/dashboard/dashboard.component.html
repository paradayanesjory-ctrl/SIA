<div id="wrapper">
  <div class="flex_cont">
    <app-navbar
      [isSidebarOpen]="isSidebarOpen"
      (menuToggled)="toggleSidebar()"
    ></app-navbar>

    <section class="activo" id="contenido">
      <!-- Nuevo diseño de dashboard con layout de dos columnas -->
      <div class="dashboard-header">
        <h1>Inicio</h1>
      </div>

      <div class="dashboard-grid" *ngIf="student; else welcome">
        <!-- Tarjeta principal del estudiante -->
        <div class="student-card">
          <div class="student-avatar">
            <img
              [src]="
                student.imageUrl ||
                'https://ui-avatars.com/api/?name=' +
                  student.fullName +
                  '&size=120&background=fff&color=333'
              "
              [alt]="student.fullName"
            />
          </div>

          <div class="student-welcome">
            <p>
              Bienvenido <strong>{{ student.fullName.split(" ")[0] }}</strong
              >, a la nueva versión del SIA
            </p>
          </div>

          <div class="student-info">
            <div class="info-row">
              <i class="fa-solid fa-barcode"></i>
              <div class="info-content">
                <span class="info-label">Código:</span>
                <span class="info-value">{{ student.codigo }}</span>
              </div>
            </div>

            <div class="info-row">
              <i class="fa-solid fa-book"></i>
              <div class="info-content">
                <span class="info-label">Estudiante de:</span>
                <span class="info-value">{{ student.career }}</span>
              </div>
            </div>

            <div class="info-row">
              <i class="fa-solid fa-triangle-exclamation"></i>
              <div class="info-content">
                <span class="info-label">Sanción Académica:</span>
                <span class="info-value">{{
                  student.academicSanction || ""
                }}</span>
              </div>
            </div>

            <div class="info-row">
              <i class="fa-solid fa-graduation-cap"></i>
              <div class="info-content">
                <span class="info-label">Requisitos para grado:</span>
                <span class="info-value">
                  Puedes consultarlos <a href="#" class="info-link">aquí</a>
                </span>
              </div>
            </div>
          </div>
        </div>

        <!-- Tarjetas de información lateral -->
        <div class="info-cards">
          <div class="info-card">
            <h3>Liquidación</h3>
            <div class="card-icon">
              <i class="fa-solid fa-file-invoice"></i>
            </div>
            <p>
              Haz click <a href="#" class="card-link">Aquí</a> o puedes ingresar
              en <strong>Datos Académicos</strong> opción
              <strong>Liquidación</strong>
            </p>
          </div>

          <div class="info-card">
            <h3>Cancelación de materias</h3>
            <div class="card-icon">
              <i class="fa-solid fa-circle-question"></i>
            </div>
            <p>
              Haz click <a href="#" class="card-link">Aquí</a> o puedes ingresar
              en <strong>Trámites</strong> opción
              <strong>Cancelación de materias</strong>
            </p>
          </div>

          <div class="info-card">
            <h3>Estatuto Estudiantil</h3>
            <div class="card-icon">
              <i class="fa-solid fa-file-lines"></i>
            </div>
            <p>
              Haz clic <a href="#" class="card-link">Aquí</a> para conocer el
              Acuerdo No. 51 del 13 de septiembre de 2019
            </p>
          </div>
        </div>
      </div>

      <ng-template #welcome>
        <div class="welcome-container">
          <h1>Bienvenido al SIA</h1>
          <p>
            Seleccione una opción del menú o inicie sesión para ver su
            información.
          </p>
        </div>
      </ng-template>
    </section>

    <footer class="footer-custom">
      <div class="footer-section left">
        <div class="sia-logo-container">
          <img
            src="https://siaweb.ufpso.edu.co/public/views/imagenes/ufpso/logo_sia.png"
            class="sia-img"
            alt="SIA Logo"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"
          />
          <div class="sia-fallback-logo" style="display: none">SIA</div>
        </div>
        <div class="footer-text-group">
          <div class="sia-title">SISTEMA DE INFORMACIÓN ACADÉMICO (BETA)</div>
          <div class="sia-subtitle">
            Universidad Francisco de Paula Santander - Ocaña, Colombia
          </div>
        </div>
      </div>
      <div class="footer-divider"></div>
      <div class="footer-section right">
        <i class="fa-solid fa-desktop footer-icon"></i>
        <div class="footer-text-group">
          <div class="dev-label">Desarrollado por:</div>
          <div class="dev-name">DIVISIÓN DE SISTEMAS -</div>
        </div>
      </div>
    </footer>
  </div>

  <div class="flex_aside" [class.active]="isSidebarOpen">
    <div
      class="sidebar-backdrop"
      *ngIf="isSidebarOpen"
      (click)="closeSidebar()"
    ></div>

    <app-sidebar [isLoggedIn]="true"></app-sidebar>
  </div>
</div>
